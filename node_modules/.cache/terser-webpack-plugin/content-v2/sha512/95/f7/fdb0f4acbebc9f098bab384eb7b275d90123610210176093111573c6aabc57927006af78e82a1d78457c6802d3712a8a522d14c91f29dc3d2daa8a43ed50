{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{HPF5:function(l,n,u){\"use strict\";u.r(n);var e=u(\"8Y7J\"),t=u(\"BOy9\");let r=(()=>{class l{constructor(l){this._http=l}GetManPendientes(l,n){this._http.Get(`api/Vehicle/ManPendientes?business=${l}&idVehiculo=${n}`)}UpdatePendings(l){return this._http.Post(\"/Vehicle/UpdatePendings\",l)}}return l.ngInjectableDef=e.Ob({factory:function(){return new l(e.Pb(t.a))},token:l,providedIn:\"root\"}),l})();var i=u(\"z6cu\"),o=u(\"kyzu\"),s=u(\"RXyV\"),a=u(\"aeTR\"),b=u(\"ZZ/e\");class c{constructor(l,n,u,e,t,r){this._service=l,this.router=n,this.alert=u,this._vehicle=e,this._sesion=t,this._nav=r,this.saving=!1}ngOnInit(){this.car=this.router.getCurrentNavigation().extras.state.car,this.pendings=this.router.getCurrentNavigation().extras.state.pendings}Guardar(){try{if(this.saving=!0,this.pendings.filter(l=>\"S\"===l.Restinge&&\"N\"===l.Resuelto).length>0)throw new Error(\"Existen pendientes por resolver de tipo restrictivo.No puedes continuar\");this._service.UpdatePendings(this.pendings).subscribe(l=>{this.saving=!1,1===l.Retorno&&Object(i.a)(l.TxtError),0==l.Retorno&&this._vehicle.ArmaProtocolo(this._sesion.GetBussiness(),this.car,this._sesion.GetThirdPartie()).subscribe(l=>{if(1===l.Retorno)throw Error(l.TxtError);this._sesion.SetKilometerCar(this.car.NuevoKilometraje);let n={state:{car:this.car}};this.alert.presentToast(\"Pendientes actualizados\",3e3),this._nav.navigateForward(\"tabs/vehicle/enlistemnt\",n)})})}catch(l){this.saving=!1,this.alert.showAlert(\"Error\",l)}}}class d{}var h=u(\"Kd36\"),g=u(\"pMnS\"),p=u(\"oBZk\"),v=u(\"s7LF\"),m=u(\"Xqnl\"),f=u(\"2MiI\"),k=u(\"iInd\"),x=u(\"SVse\"),B=e.qb({encapsulation:0,styles:[[\"\"]],data:{}});function D(l){return e.Lb(0,[(l()(),e.sb(0,0,null,null,38,\"div\",[],null,null,null,null,null)),(l()(),e.sb(1,0,null,null,37,\"ion-list\",[[\"inset\",\"true\"]],null,null,null,p.db,p.q)),e.rb(2,49152,null,0,b.N,[e.h,e.k,e.x],{inset:[0,\"inset\"]},null),(l()(),e.sb(3,0,null,0,35,\"ion-radio-group\",[[\"required\",\"\"]],[[1,\"required\",0],[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ngModelChange\"],[null,\"ionBlur\"],[null,\"ionChange\"]],function(l,n,u){var t=!0;return\"ionBlur\"===n&&(t=!1!==e.Db(l,6)._handleBlurEvent(u.target)&&t),\"ionChange\"===n&&(t=!1!==e.Db(l,6)._handleChangeEvent(u.target)&&t),\"ngModelChange\"===n&&(t=!1!==(l.context.$implicit.Resuelto=u)&&t),t},p.gb,p.v)),e.rb(4,16384,null,0,v.l,[],{required:[0,\"required\"]},null),e.Gb(1024,null,v.d,function(l){return[l]},[v.l]),e.rb(6,16384,null,0,b.Lb,[e.k],null,null),e.Gb(1024,null,v.e,function(l){return[l]},[b.Lb]),e.rb(8,671744,null,0,v.j,[[2,v.a],[6,v.d],[8,null],[6,v.e]],{name:[0,\"name\"],model:[1,\"model\"]},{update:\"ngModelChange\"}),e.Gb(2048,null,v.f,null,[v.j]),e.rb(10,16384,null,0,v.g,[[4,v.f]],null,null),e.rb(11,49152,null,0,b.Z,[e.h,e.k,e.x],{name:[0,\"name\"]},null),(l()(),e.sb(12,0,null,0,4,\"ion-list-header\",[[\"color\",\"primary\"]],null,null,null,p.cb,p.r)),e.rb(13,49152,null,0,b.O,[e.h,e.k,e.x],{color:[0,\"color\"]},null),(l()(),e.sb(14,0,null,0,2,\"ion-label\",[],null,null,null,p.bb,p.p)),e.rb(15,49152,null,0,b.M,[e.h,e.k,e.x],null,null),(l()(),e.Jb(16,0,[\"\",\"\"])),(l()(),e.sb(17,0,null,0,10,\"ion-item\",[],null,null,null,p.ab,p.o)),e.rb(18,49152,null,0,b.G,[e.h,e.k,e.x],null,null),(l()(),e.sb(19,0,null,0,1,\"ion-icon\",[[\"color\",\"secondary\"],[\"slot\",\"end\"]],null,null,null,p.V,p.j)),e.rb(20,49152,null,0,b.B,[e.h,e.k,e.x],{color:[0,\"color\"],name:[1,\"name\"]},null),(l()(),e.sb(21,0,null,0,2,\"ion-label\",[],null,null,null,p.bb,p.p)),e.rb(22,49152,null,0,b.M,[e.h,e.k,e.x],null,null),(l()(),e.Jb(-1,0,[\"Resuelto\"])),(l()(),e.sb(24,0,null,0,3,\"ion-radio\",[[\"color\",\"secondary\"],[\"slot\",\"start\"],[\"value\",\"S\"]],null,[[null,\"ionBlur\"],[null,\"ionSelect\"]],function(l,n,u){var t=!0;return\"ionBlur\"===n&&(t=!1!==e.Db(l,27)._handleBlurEvent(u.target)&&t),\"ionSelect\"===n&&(t=!1!==e.Db(l,27)._handleIonSelect(u.target)&&t),t},p.hb,p.u)),e.Gb(5120,null,v.e,function(l){return[l]},[b.Kb]),e.rb(26,49152,null,0,b.Y,[e.h,e.k,e.x],{color:[0,\"color\"],value:[1,\"value\"]},null),e.rb(27,16384,null,0,b.Kb,[e.k],null,null),(l()(),e.sb(28,0,null,0,10,\"ion-item\",[],null,null,null,p.ab,p.o)),e.rb(29,49152,null,0,b.G,[e.h,e.k,e.x],null,null),(l()(),e.sb(30,0,null,0,1,\"ion-icon\",[[\"color\",\"secondary\"],[\"slot\",\"end\"]],null,null,null,p.V,p.j)),e.rb(31,49152,null,0,b.B,[e.h,e.k,e.x],{color:[0,\"color\"],name:[1,\"name\"]},null),(l()(),e.sb(32,0,null,0,2,\"ion-label\",[],null,null,null,p.bb,p.p)),e.rb(33,49152,null,0,b.M,[e.h,e.k,e.x],null,null),(l()(),e.Jb(-1,0,[\"No Resuelto\"])),(l()(),e.sb(35,0,null,0,3,\"ion-radio\",[[\"color\",\"secondary\"],[\"slot\",\"start\"],[\"value\",\"N\"]],null,[[null,\"ionBlur\"],[null,\"ionSelect\"]],function(l,n,u){var t=!0;return\"ionBlur\"===n&&(t=!1!==e.Db(l,38)._handleBlurEvent(u.target)&&t),\"ionSelect\"===n&&(t=!1!==e.Db(l,38)._handleIonSelect(u.target)&&t),t},p.hb,p.u)),e.Gb(5120,null,v.e,function(l){return[l]},[b.Kb]),e.rb(37,49152,null,0,b.Y,[e.h,e.k,e.x],{color:[0,\"color\"],value:[1,\"value\"]},null),e.rb(38,16384,null,0,b.Kb,[e.k],null,null)],function(l,n){l(n,2,0,\"true\"),l(n,4,0,\"\"),l(n,8,0,\"pending\"+n.context.index,n.context.$implicit.Resuelto),l(n,11,0,\"pending\"+n.context.index),l(n,13,0,\"primary\"),l(n,20,0,\"secondary\",\"checkmark-circle\"),l(n,26,0,\"secondary\",\"S\"),l(n,31,0,\"secondary\",\"close-circle\"),l(n,37,0,\"secondary\",\"N\")},function(l,n){l(n,3,0,e.Db(n,4).required?\"\":null,e.Db(n,10).ngClassUntouched,e.Db(n,10).ngClassTouched,e.Db(n,10).ngClassPristine,e.Db(n,10).ngClassDirty,e.Db(n,10).ngClassValid,e.Db(n,10).ngClassInvalid,e.Db(n,10).ngClassPending),l(n,16,0,n.context.$implicit.Pendiente)})}function C(l){return e.Lb(0,[(l()(),e.sb(0,0,null,null,1,\"ion-icon\",[[\"name\",\"checkmark-circle\"],[\"slot\",\"start\"]],null,null,null,p.V,p.j)),e.rb(1,49152,null,0,b.B,[e.h,e.k,e.x],{name:[0,\"name\"]},null)],function(l,n){l(n,1,0,\"checkmark-circle\")},null)}function y(l){return e.Lb(0,[(l()(),e.sb(0,0,null,null,1,\"ion-spinner\",[[\"slot\",\"start\"]],null,null,null,p.pb,p.D)),e.rb(1,49152,null,0,b.qb,[e.h,e.k,e.x],null,null)],null,null)}function P(l){return e.Lb(0,[(l()(),e.sb(0,0,null,null,1,\"app-header\",[[\"headerName\",\"Pendientes\"]],null,null,null,m.b,m.a)),e.rb(1,114688,null,0,f.a,[a.a,k.m,b.Fb,a.a],{headerName:[0,\"headerName\"]},null),(l()(),e.sb(2,0,null,null,15,\"ion-content\",[[\"fullscreen\",\"\"]],null,null,null,p.Q,p.e)),e.rb(3,49152,null,0,b.t,[e.h,e.k,e.x],{fullscreen:[0,\"fullscreen\"]},null),(l()(),e.sb(4,0,null,0,13,\"form\",[[\"novalidate\",\"\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ngSubmit\"],[null,\"submit\"],[null,\"reset\"]],function(l,n,u){var t=!0,r=l.component;return\"submit\"===n&&(t=!1!==e.Db(l,6).onSubmit(u)&&t),\"reset\"===n&&(t=!1!==e.Db(l,6).onReset()&&t),\"ngSubmit\"===n&&(t=!1!==r.Guardar()&&t),t},null,null)),e.rb(5,16384,null,0,v.o,[],null,null),e.rb(6,4210688,[[\"pendingForm\",4]],0,v.i,[[8,null],[8,null]],null,{ngSubmit:\"ngSubmit\"}),e.Gb(2048,null,v.a,null,[v.i]),e.rb(8,16384,null,0,v.h,[[4,v.a]],null,null),(l()(),e.hb(16777216,null,null,1,null,D)),e.rb(10,278528,null,0,x.j,[e.N,e.J,e.q],{ngForOf:[0,\"ngForOf\"]},null),(l()(),e.sb(11,0,null,null,6,\"ion-button\",[[\"expand\",\"block\"],[\"type\",\"submit\"]],null,null,null,p.N,p.b)),e.rb(12,49152,null,0,b.j,[e.h,e.k,e.x],{disabled:[0,\"disabled\"],expand:[1,\"expand\"],type:[2,\"type\"]},null),(l()(),e.hb(16777216,null,0,1,null,C)),e.rb(14,16384,null,0,x.k,[e.N,e.J],{ngIf:[0,\"ngIf\"]},null),(l()(),e.hb(16777216,null,0,1,null,y)),e.rb(16,16384,null,0,x.k,[e.N,e.J],{ngIf:[0,\"ngIf\"]},null),(l()(),e.Jb(-1,0,[\" GUARDAR \"]))],function(l,n){var u=n.component;l(n,1,0,\"Pendientes\"),l(n,3,0,\"\"),l(n,10,0,u.pendings),l(n,12,0,!e.Db(n,6).form.valid||u.saving,\"block\",\"submit\"),l(n,14,0,!u.saving),l(n,16,0,u.saving)},function(l,n){l(n,4,0,e.Db(n,8).ngClassUntouched,e.Db(n,8).ngClassTouched,e.Db(n,8).ngClassPristine,e.Db(n,8).ngClassDirty,e.Db(n,8).ngClassValid,e.Db(n,8).ngClassInvalid,e.Db(n,8).ngClassPending)})}function _(l){return e.Lb(0,[(l()(),e.sb(0,0,null,null,1,\"app-pendings\",[],null,null,null,P,B)),e.rb(1,114688,null,0,c,[r,k.m,o.a,s.a,a.a,b.Fb],null,null)],function(l,n){l(n,1,0)},null)}var N=e.ob(\"app-pendings\",c,_,{},{},[]),S=u(\"j1ZV\");u.d(n,\"PendingsPageModuleNgFactory\",function(){return j});var j=e.pb(d,[],function(l){return e.Ab([e.Bb(512,e.j,e.ab,[[8,[h.a,g.a,N]],[3,e.j],e.v]),e.Bb(4608,x.m,x.l,[e.s,[2,x.v]]),e.Bb(4608,v.n,v.n,[]),e.Bb(4608,b.b,b.b,[e.x,e.g]),e.Bb(4608,b.Eb,b.Eb,[b.b,e.j,e.p]),e.Bb(4608,b.Jb,b.Jb,[b.b,e.j,e.p]),e.Bb(1073742336,x.c,x.c,[]),e.Bb(1073742336,v.m,v.m,[]),e.Bb(1073742336,v.c,v.c,[]),e.Bb(1073742336,b.Cb,b.Cb,[]),e.Bb(1073742336,S.a,S.a,[]),e.Bb(1073742336,k.n,k.n,[[2,k.s],[2,k.m]]),e.Bb(1073742336,d,d,[]),e.Bb(1024,k.k,function(){return[[{path:\"\",component:c}]]},[])])})}}]);","extractedComments":[]}